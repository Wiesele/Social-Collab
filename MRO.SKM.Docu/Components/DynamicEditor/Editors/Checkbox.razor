@using MRO.SKM.Docu.Models.DynamicEditors
@using MRO.SKM.SDK.Models.Editors

@if (this.Configuration != null)
{
    <MudCheckBox Label="@Configuration.Lable" 
                 LabelPlacement="Placement.End" 
                 ValueChanged="async (bool a) => await OnEditorChange(a)" 
                 For="() => this.Value"></MudCheckBox>
}

@code {
    [Parameter]
    public CheckBoxEditorConfiguration? Configuration { get; set; }
    public bool Value { get; set; }
    
    [Parameter]
    public EventCallback<OnEditorChangeEventParam> OnValuesUpdated { get; set; }

    private async Task OnEditorChange(bool newValue)
    {
        if (newValue != this.Value)
        {
            this.Value = newValue;

            var evt = new OnEditorChangeEventParam()
            {
                Value = newValue,
                Name = this.Configuration.Name
            };
            
            await this.OnValuesUpdated.InvokeAsync(evt);
        }
    }
}